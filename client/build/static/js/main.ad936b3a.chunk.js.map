{"version":3,"sources":["components/auth/SignUp.js","components/auth/SignIn.js","utils/storage.js","components/Landing.js","components/Map/MapSearch.js","components/Map/MapInfo.js","components/Map/ChargerMap.js","App.js","index.js"],"names":["SignUp","props","state","username","password","passwordConfirm","isLoading","registerSuccess","handleSubmit","bind","validForm","test","this","alert","length","e","preventDefault","handleValidation","setState","fetch","method","headers","body","JSON","stringify","then","res","json","console","log","to","onSubmit","type","placeholder","value","onChange","target","onClick","Component","SignIn","isAuthenticated","handleSignIn","success","key","obj","localStorage","setItem","err","error","setInStorage","token","Landing","MapSearch","query","data","filteredData","handleSelectChange","handleInputChange","listItems","prevState","filter","element","name","toLowerCase","includes","location","map","charger","index","id","MapInfo","ChargerMap","showingInfoWindow","activeMarker","selectedPlace","markers","onMapClick","onMarkerClick","marker","inUse","free","position","lat","latitude","$numberDecimal","lng","longitude","google","zoom","style","width","height","initialCenter","visible","GoogleApiWrapper","apiKey","process","App","className","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ad936b3a.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nclass SignUp extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            passwordConfirm: \"\",\r\n            isLoading: false,\r\n            registerSuccess: false\r\n        }\r\n\r\n        // bind functions\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n    }\r\n\r\n    // form validation\r\n    handleValidation() {\r\n        let validForm = true\r\n\r\n        if (!/^[a-zA-Z0-9]+$/.test(this.state.username)) {\r\n            validForm = false\r\n            alert(\"Your username can contain only letters and numbers\")\r\n        }\r\n        if (this.state.password.length < 6) {\r\n            validForm = false\r\n            alert(\"Your password must be atleast 6 characters long\")\r\n        }\r\n        if (this.state.passwordConfirm !== this.state.password) {\r\n            validForm = false\r\n            alert(\"Your passwords don't match\")\r\n        }\r\n\r\n        return validForm;\r\n    }\r\n\r\n    // handleSubmit that sends a request to the api\r\n    handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if (this.handleValidation()) {\r\n            const url = \"http://34.239.125.70/api/users/register\"\r\n\r\n            this.setState({ isLoading: true })\r\n\r\n            fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    username: this.state.username,\r\n                    password: this.state.password\r\n                })\r\n            })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                console.log('json', json)\r\n                this.setState({ registerSuccess: true })\r\n            })\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        if (this.state.registerSuccess) {\r\n            return <Redirect to='/signin' />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>\r\n                        <input type=\"text\" placeholder=\"Username\" value={this.state.username} onChange={e => {this.setState({ username: e.target.value })}} />\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={e => {this.setState({ password: e.target.value })}} />\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"password\" placeholder=\"Confirm Password\" value={this.state.passwordConfirm} onChange={e => {this.setState({ passwordConfirm: e.target.value })}} />\r\n                    </label>\r\n                    <input type=\"submit\" value=\"Submit\" onClick={e => this.handleSubmit(e)} />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SignUp","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { setInStorage, getFromStorage } from '../../utils/storage'\r\n\r\nclass SignIn extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            isLoading: false,\r\n            isAuthenticated: false\r\n        }\r\n\r\n        // bind functions\r\n        this.handleSignIn = this.handleSignIn.bind(this)\r\n    }\r\n\r\n    // form validation\r\n    handleValidation() {\r\n        let validForm = true\r\n\r\n        if (!/^[a-zA-Z0-9]+$/.test(this.state.username)) {\r\n            validForm = false\r\n            alert(\"Your username can contain only letters and numbers\")\r\n        }\r\n        if (this.state.password.length < 6) {\r\n            validForm = false\r\n            alert(\"Your password must be atleast 6 characters long\")\r\n        }\r\n\r\n        return validForm;\r\n    }\r\n\r\n    // handleSubmit that sends a request to the api\r\n    handleSignIn(e) {\r\n        e.preventDefault()\r\n\r\n        if (this.handleValidation()) {\r\n            const url = \"http://34.239.125.70/api/users/login\"\r\n\r\n            this.setState({ isLoading: true })\r\n\r\n            fetch(url, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    username: this.state.username,\r\n                    password: this.state.password\r\n                })\r\n            })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                console.log('json', json)\r\n                if (json.success) {\r\n                    setInStorage('Token', json.token )\r\n                    this.setState({\r\n                        isLoading: false,\r\n                        username: '',\r\n                        password: '',\r\n                        token: json.token,\r\n                        isAuthenticated: true\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        isLoading: false\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        if (this.state.isAuthenticated) {\r\n            return <Redirect to='/map' />\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.handleSignIn}>\r\n                    <label>\r\n                        <input type=\"text\" placeholder=\"Username\" value={this.state.username} onChange={e => {this.setState({ username: e.target.value })}} />\r\n                    </label>\r\n                    <label>\r\n                        <input type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={e => {this.setState({ password: e.target.value })}} />\r\n                    </label>\r\n                    <input type=\"submit\" value=\"Submit\" onClick={e => this.handleSignIn(e)} />\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SignIn","// Get the key from local storage\r\nexport function getFromStorage(key) {\r\n    if (!key) {\r\n        return null\r\n    }\r\n\r\n    try {\r\n        const valueStr = localStorage.getItem(key)\r\n        if (valueStr) {\r\n            return JSON.parse(valueStr)\r\n        }\r\n\r\n        return null\r\n    } catch (err) {\r\n        return null\r\n    }\r\n}\r\n\r\n// Store the key into local storage\r\nexport function setInStorage(key, obj) {\r\n    if (!key) {\r\n        console.log('Error: Key is missing')\r\n    }\r\n\r\n    try {\r\n        localStorage.setItem(key, JSON.stringify(obj))\r\n    } catch (err) {\r\n        console.error(err)\r\n    }\r\n}","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nclass Landing extends Component {\r\n    render() {\r\n        return(\r\n            <div>\r\n                <Link to='/register'>\r\n                    <button>\r\n                        Register\r\n                    </button>\r\n                </Link>\r\n\r\n                <Link to='/signin'>\r\n                    <button>\r\n                        Sign In\r\n                    </button>\r\n                </Link>\r\n\r\n                <Link to='/map'>\r\n                    <button>\r\n                        Chargers\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Landing","import React, { Component } from 'react'\r\n\r\nclass MapSearch extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            query: \"\",\r\n            value: \"name\",\r\n            data: [],\r\n            filteredData: [],\r\n        }\r\n\r\n        // bind functions\r\n        this.handleSelectChange = this.handleSelectChange.bind(this)\r\n        this.handleInputChange = this.handleInputChange.bind(this)\r\n        this.listItems = this.listItems.bind(this)\r\n    }\r\n\r\n    handleSelectChange(e) {\r\n        this.setState({value: e.target.value})\r\n    }\r\n\r\n    // checks the input and filters the list accordingly\r\n    handleInputChange(e) {\r\n        const query = e.target.value\r\n\r\n        // filter the list by charger name\r\n        if (this.state.value === \"name\") {\r\n            this.setState(prevState => {\r\n                const filteredData = prevState.data.filter(element => {\r\n                    return element.name.toLowerCase().includes(query.toLowerCase())\r\n                })\r\n    \r\n                return {\r\n                    query,\r\n                    filteredData\r\n                }\r\n            })\r\n        }\r\n        \r\n        // filter the list by location/city name\r\n        if (this.state.value === \"location\") {\r\n            this.setState(prevState => {\r\n                const filteredData = prevState.data.filter(element => {\r\n                    return element.location.toLowerCase().includes(query.toLowerCase())\r\n                })\r\n    \r\n                return {\r\n                    query,\r\n                    filteredData\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    // return the list items using map()\r\n    listItems() {\r\n        return this.state.filteredData.map((charger, index) => {\r\n            return <li \r\n                \r\n                key={index}>{charger.name}</li>\r\n        })\r\n    }\r\n\r\n    // fetch the charger data\r\n    componentDidMount() {\r\n        fetch('http://34.239.125.70/api/chargers/get')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                const { query } = this.state\r\n                const filteredData = data.filter(element => {\r\n                    return element.name.toLowerCase().includes(query.toLowerCase())\r\n                })\r\n\r\n                this.setState({\r\n                    data,\r\n                    filteredData\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='form'>\r\n                <form>\r\n                    <select value={this.state.value} onChange={this.handleSelectChange}>\r\n                        <option value=\"name\">Charger name</option>\r\n                        <option value=\"location\">Charger location</option>\r\n                    </select> <br />\r\n                    <input \r\n                    type='text'\r\n                    placeholder='Search for...'\r\n                    value={this.state.query}\r\n                    onChange={this.handleInputChange} />\r\n                </form>\r\n                <ul>\r\n                    {this.listItems()}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MapSearch","import React, { Component } from 'react'\r\n\r\nclass MapInfo extends Component {\r\n    render() {\r\n        return (\r\n            <div id=\"mapInfo\">\r\n                <p>This map contains currently available chargers. Some of the slow chargers are free and some have a cost of 0.20â‚¬/min. The fast chargers are paid by electricity consumption and have a cost of 18c/kWh. You can see if a charger is free by clicking the marker.</p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MapInfo","import React, { Component } from 'react'\r\nimport { Map, GoogleApiWrapper, Marker, InfoWindow } from 'google-maps-react'\r\n\r\n// import children\r\nimport MapSearch from './MapSearch'\r\nimport MapInfo from './MapInfo'\r\n\r\nconst API_KEY = process.env.REACT_APP_GOOGLE_API_KEY\r\n\r\nclass ChargerMap extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            data: [],\r\n            showingInfoWindow: false,\r\n            activeMarker: {},\r\n            selectedPlace: {}\r\n        }\r\n\r\n        // bind functions\r\n        this.markers = this.markers.bind(this)\r\n        this.onMapClick = this.onMapClick.bind(this)\r\n        this.onMarkerClick = this.onMarkerClick.bind(this)\r\n    }\r\n\r\n    // fetch the chargers\r\n    componentDidMount() {\r\n        fetch('http://34.239.125.70/api/chargers/get')\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                this.setState({ data: data })\r\n            })\r\n    }\r\n\r\n    // if map gets clicked, then stop displaying the infowindow\r\n    onMapClick(props) {\r\n        if (this.state.showingInfoWindow) {\r\n            this.setState({\r\n                showingInfoWindow: false,\r\n                activeMarker: null\r\n            })\r\n        }\r\n    }\r\n\r\n    // display the info window when marker is clicked\r\n    onMarkerClick(props, marker, e) {\r\n        this.setState({\r\n            selectedPlace: props,\r\n            activeMarker: marker,\r\n            showingInfoWindow: true\r\n        })\r\n    }\r\n\r\n    // place all the markers on the map using map()\r\n    markers() {\r\n        return this.state.data.map((marker, index) => { \r\n            return <Marker \r\n                key={index} \r\n                id={index}\r\n                name={marker.name}\r\n                location={marker.location}\r\n                type={marker.type}\r\n                inUse={marker.inUse ? \"Taken\" : \"Available\"}\r\n                free={marker.free ? \"Yes\" : \"No\"}\r\n                position={{\r\n                    lat: marker.latitude.$numberDecimal,\r\n                    lng: marker.longitude.$numberDecimal\r\n                }}\r\n                onClick={this.onMarkerClick} />\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const mapStyles = {\r\n            width: '60%',\r\n            height: '100%'\r\n        }\r\n\r\n        return (\r\n            <div id='container'>\r\n                <Map\r\n                    google={ this.props.google }\r\n                    zoom={ 6 }\r\n                    style={mapStyles}\r\n                    initialCenter={{ lat: 64.00, lng: 26.50 }}\r\n                    onClick={this.onMapClick} >\r\n                    \r\n                    {this.markers()}\r\n\r\n                    <InfoWindow\r\n                        marker={this.state.activeMarker}\r\n                        visible={this.state.showingInfoWindow}>\r\n                            <h2>{this.state.selectedPlace.name}</h2>\r\n                            <p>Location: {this.state.selectedPlace.location}</p>\r\n                            <p>Type: {this.state.selectedPlace.type}</p>\r\n                            <p>Status: {this.state.selectedPlace.inUse}</p>\r\n                            <p>Free: {this.state.selectedPlace.free}</p>\r\n                    </InfoWindow>\r\n                </Map>\r\n                <div id=\"listAndInfo\">\r\n                    <MapInfo />\r\n                    <MapSearch />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: API_KEY\r\n})(ChargerMap)\r\n","import React from 'react'\r\nimport { Route } from 'react-router-dom'\r\n\r\n// import components\r\nimport SignUp from './components/auth/SignUp'\r\nimport SignIn from './components/auth/SignIn'\r\nimport Landing from './components/Landing'\r\nimport ChargerMap from './components/Map/ChargerMap'\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n        <Route exact path='/' component={ Landing } />\r\n        <Route path='/register' component={ SignUp } />\r\n        <Route path='/signin' component={ SignIn } />\r\n        <Route path='/map' component={ ChargerMap } />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nimport './index.css'\r\nimport App from './App'\r\n\r\nReactDOM.render(<Router><App /></Router>, document.getElementById('root'))"],"sourceRoot":""}